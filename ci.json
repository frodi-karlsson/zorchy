{
  "$schema": "./schema.json",
  "entryPoint": "build zorchy",
  "workflows": [
    {
      "name": "build zorchy",
      "task": {
        "Shell": {
          "command": "sh",
          "args": [
            "-c",
            "cd ./zorchy && ../zig/bin/zig build --cache-dir ../zig-cache"
          ]
        }
      },
      "onComplete": "run tests"
    },
    {
      "name": "run tests",
      "task": {
        "Shell": {
          "command": "sh",
          "args": [
            "-c",
            "cd ./zorchy && ../zig/bin/zig build test --cache-dir ../zig-cache"
          ]
        }
      },
      "onComplete": "run integration tests"
    },
    {
      "name": "run integration tests",
      "task": {
        "Shell": {
          "command": "sh",
          "args": [
            "-c",
            "cd ./zorchy && ../zig/bin/zig build integration --cache-dir ../zig-cache"
          ]
        }
      }
    }
  ]
}
